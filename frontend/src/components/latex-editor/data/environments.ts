import type { EnvironmentInfo } from '../types'

// LaTeX environments from LaTeX Workshop data/environments.json
export const environments: EnvironmentInfo[] = [
  { name: 'document', arg: { format: '', snippet: '\n$0' } },
  { name: 'table' },
  { name: 'description', arg: { format: '', snippet: '\n\t\\item[$1] $0' } },
  { name: 'enumerate', arg: { format: '', snippet: '\n\t\\item $0' } },
  { name: 'itemize', arg: { format: '', snippet: '\n\t\\item $0' } },
  { name: 'math' },
  { name: 'displaymath' },
  { name: 'split' },
  { name: 'array', arg: { format: '{}', snippet: '{${1:cols}}' } },
  { name: 'subarray', arg: { format: '{}', snippet: '{${1:align}}' } },
  { name: 'eqnarray' },
  { name: 'equation' },
  { name: 'equation*' },
  { name: 'subequations' },
  { name: 'subequations*' },
  { name: 'multline' },
  { name: 'multline*' },
  { name: 'gather' },
  { name: 'gather*' },
  { name: 'gathered' },
  { name: 'align' },
  { name: 'align*' },
  { name: 'aligned' },
  { name: 'alignedat' },
  { name: 'flalign' },
  { name: 'flalign*' },
  { name: 'xalignat' },
  { name: 'xalignat*' },
  { name: 'matrix' },
  { name: 'bmatrix' },
  { name: 'Bmatrix' },
  { name: 'pmatrix' },
  { name: 'vmatrix' },
  { name: 'Vmatrix' },
  { name: 'smallmatrix' },
  { name: 'definition' },
  { name: 'example' },
  { name: 'remark' },
  { name: 'lemma' },
  { name: 'theorem' },
  { name: 'corollary' },
  { name: 'proposition' },
  { name: 'proof' },
  { name: 'cases' },
  { name: 'center' },
  { name: 'flushleft' },
  { name: 'flushright' },
  { name: 'minipage' },
  { name: 'quotation' },
  { name: 'quote' },
  { name: 'verbatim' },
  { name: 'verse' },
  { name: 'picture' },
  { name: 'tabbing' },
  { name: 'tabular', arg: { format: '{}', snippet: '{${1:cols}}' } },
  { name: 'tabular*', arg: { format: '{}{}', snippet: '{${1:width}}{${2:cols}}' } },
  { name: 'thebibliography' },
  { name: 'titlepage' },
  { name: 'figure', arg: { format: '[]', snippet: '[${1:htbp}]' } },
  { name: 'figure*', arg: { format: '[]', snippet: '[${1:htbp}]' } },
  { name: 'table', arg: { format: '[]', snippet: '[${1:htbp}]' } },
  { name: 'table*', arg: { format: '[]', snippet: '[${1:htbp}]' } },
  { name: 'abstract' },
  { name: 'frame', arg: { format: '', snippet: '\n\t\\frametitle{${1:<title>}}\n\n\t$0\n' } },
  { name: 'block', arg: { format: '{}', snippet: '{${1:title}}' } },
  { name: 'columns' },
  { name: 'column', arg: { format: '{}', snippet: '{${1:width}}' } },
  { name: 'tikzpicture' },
  { name: 'tikzcd' },
  { name: 'scope' },
  { name: 'lstlisting' },
  { name: 'minted', arg: { format: '{}', snippet: '{${1:language}}' } },
  { name: 'algorithm' },
  { name: 'algorithmic' },
]

// Create environment completion snippet
export function createEnvironmentSnippet(env: EnvironmentInfo): string {
  const argSnippet = env.arg?.snippet || ''
  const innerSnippet = env.arg?.snippet?.includes('$0') ? '' : '\n\t$0\n'
  return `begin{${env.name}}${argSnippet}${innerSnippet}\\end{${env.name}}`
}
